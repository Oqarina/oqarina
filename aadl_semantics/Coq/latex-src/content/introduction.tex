\chapter{Introduction}
\label{ch:intro}

\section{Outline}

AADL motivations

Need for mechanizing AADL

- unambiguous definition of AADL core rulesas dedicable propositions.

- definition of AADL semantics through the definition of AADL building blocks

%=============================================================================
\section{Motivations}

AADL is a semi-formal language: it is defined by a formal BNF that defines its gramamr and some static constraints. However, the well-formedness of an AADL model is defined by a set of legality and consistency rules that are informally defined in plain English. Furthermore, the semantics of an AADL model is also defined in an informal way using plain text.

Multiple contributions have defined in formal semantics of AADL. Usually, the provide an interpretation of AADL for a specific model of computation and a subset of the AADL constructs.

Coq, bodeveix, AADL+BA, direct interpretation of synchronous semantics of AADL
LNT, hugues, AADL, Ravenscar profile only
BIP, xxx, ditto
....

\textbf{paper on AADL formalized using Isabelle}

In this technical report, we aim to complement these approaches and provide

\begin{enumerate}
    \item a mechanization of AADL grammar and associated legality and consistency rules;
    \item a mechanization of AADL behavioral semantics. This mechanization is modular to allow for further refinement for specific classes of system.
\end{enumerate}

%=============================================================================

\section{About AADL}

AADL is a collection of languages that are interconnected:

\begin{enumerate}
    \item AADL declarative model -- "AADL core" -- defines the basic concepts of AADL. This language has been defined to model systems both "in the small" with precise definitions of component interfaces, their configuration, and their composition; and "in the large" with concepts such as arrays of components, prototypes (aking to template-based modeling) or refinements.
    \item AADL Behavioral annex -- AADL-BA -- provides a language for describing the behavior of components using automata. This automata can be applied to threads or subprograms to capture their high-level behavior.
    \item AADL Error Modeling Annex v2 -- AADL-EMV2 -- extends AADL with error modeling concepts. EMV2 defines concepts XXXX
\end{enumerate}

Other annex languages exist, such as BLESS, Agree, etc. We restricted our effort to actual SAE standards.

\subsection{AADL Compilation Process}

XXX add a schema

An AADL model is made of several AADL packages. Each package has several AADL component types and implementations. In addition, these component declarations may be enriches with annex-specific elements. The declarative model provides a blueprint of the system as a collection of components, it is enriches with advanced concepts to support reusability of model elements (notion of package), notions of refinement through extends/refined, and configurability.

Each model identifies a "root system", that is the top-most AADL model element whose subcomponents form the transitive closure of the system. AADL modelers would then perform an instanciation of this root system. This process is equivalent to a compiulation phase: the model is turned into and Abstract Syntax Tree, name resolutions, model expansion and simplification occurs. The resulting model -- the instance model -- is then passed to analysis tools.

Hence, the declarative and instance models are two representations of the same system. The instance model is a simpler version, expurged from complex mechanisms.

\subsection{Contributions}

In an effort to modularize our mechanization effort, we opted to restrict our scope to the AADL Instance models. We consider that the process that builds an instance model out of a declarative model is deemed correct through other means.

We make the following contributions
\begin{itemize}
    \item A mechanization of AADL Instance model as a data model, along with a validation scheme defined as a collection of decidable propositions;
    \item A mechanization of the behavior of AADL model elements, along with XXX
\end{itemize}

%=============================================================================
\section{Outline}

\begin{figure}[!h]
    \centering
    \begin{tikzpicture}[auto,
        %decision/.style={diamond, draw=black, thick, fill=white,
        %text width=8em, text badly centered,
        %inner sep=1pt, font=\sffamily\small},
        block_center/.style ={rectangle, draw=black, thick, fill=white,
          text width=12em, text centered,
          minimum height=4em},
        block_left/.style ={rectangle, draw=black, thick, fill=white,
          text width=16em, text ragged, minimum height=4em, inner sep=6pt},
        block_noborder/.style ={rectangle, draw=none, thick, fill=none,
          text width=18em, text centered, minimum height=1em},
        block_assign/.style ={rectangle, draw=black, thick, fill=white,
          text width=18em, text ragged, minimum height=3em, inner sep=6pt},
        block_lost/.style ={rectangle, draw=black, thick, fill=white,
          text width=16em, text ragged, minimum height=3em, inner sep=6pt},
          line/.style ={draw, thick, -latex', shorten >=0pt}]

    \node [block_center] (s0) {AADL Component Model (chap.~\ref{chap::aadl_mecha})};
    \node[block_center,right=1cm of s0] (s0r) {Well-formedness rules (chap.~\ref{chap::aadl_wf})};

    \node[block_center,below=1cm of s0] (s1) {AADL Declarative model (chap.~\ref{chap::aadl_decl})};

    \draw (s0) -- (s0r);
    \draw (s0) -- (s1);

    \end{tikzpicture}
    \caption{Structure of the mechanization of AADL} \label{fig:mechanization_overview}
    \end{figure}

In chapter \ref{chap::aadl_mecha}, we define the structure of a generic AADL component. This definition covers both component type and implementations. We build a collection of Coq helper functions that help manipulating collections of componenents.

In chapter \ref{chap::aadl_wf}, we specify several legality rules and demonstrate they are all decidable. This allows us to define the concept of \textit{well-formed} AADL component as a component that conforms to these legality rules.

In chapter \ref{chap::aadl_decl}, we build the basic blocks of the AADL declarative models: component types, component implementation and packages. XXX this chapters also defines more legality rules that are specific to the AADL declarative model.

In chapter XXX, we extend the previous definitions and add models of the execution semantics for each component category. Then, we define the semanics of a composition of models.


Subsequent chapters will refine and specialize this semantics for specific model of conputations.


